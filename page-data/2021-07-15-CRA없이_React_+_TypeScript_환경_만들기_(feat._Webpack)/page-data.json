{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2021-07-15-CRA없이_React_+_TypeScript_환경_만들기_(feat._Webpack)/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>CRA없이 React + TypeScript 환경 만들기 (feat. Webpack)</h1>\n<p>코드스쿼드 과정에서 분명 만들었었는데 난 이해를 못했어서 정리!<br>\n보일러플레이트 다시 만들어보며 메모</p>\n<h2><strong>[1]</strong> 일반 (Normal : No webpack-dev-server)</h2>\n<h3>1. 폴더 생성 및 기본 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># webpack-react-typescript-boilerplate이란 이름을 가진 폴더 생성\nmkdir webpack-react-typescript-boilerplate\n\n# 생성한 webpack-react-typescript-boilerplate로 이동\ncd webpack-react-typescript-boilerplate\n\n# package.json 생성 (-y를 사용하여 바로 생성)\nnpm init -y\n\n# react, react-dom 패키지 설치\nnpm i react react-dom\n\n# 개발전용으로 패키지 설치\n## 설치목록: typescript, ts-loader, webpack, webpack-cli, @types/react, @types/react-dom, @types/webpack\nnpm i --save-dev typescript ts-loader webpack webpack-cli @types/react @types/react-dom @types/webpack</code></pre></div>\n<p><strong>1)</strong> 생성된 <code class=\"language-text\">package.json</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack-react-typescript-boilerplate\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"production\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NODE_ENV=production webpack --progress\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"git\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"git+https://github.com/17-sss/webpack-react-typescript-boilerplate.git\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"bugs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/17-sss/webpack-react-typescript-boilerplate/issues\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"homepage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/17-sss/webpack-react-typescript-boilerplate#readme\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@types/react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.14\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@types/react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.9\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@types/webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.28.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ts-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^9.2.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.3.5\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.44.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"webpack-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.7.2\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.2\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>2. <code class=\"language-text\">tsconfig.json</code> 파일 생성</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"es5\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noImplicitAny\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lib\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"dom\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"DOM.Iterable\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ESNext\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"skipLibCheck\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"esModuleInterop\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"allowSyntheticDefaultImports\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"strict\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"forceConsistentCasingInFileNames\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noFallthroughCasesInSwitch\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"moduleResolution\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"isolatedModules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"resolveJsonModule\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noEmit\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"allowJs\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">/* ❓ include &amp; exclude 옵션: 컴파일에 포함할 디렉토리/파일 경로를 설정하거나 제외 */</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/**/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"exclude\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"node_modules/\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>여기서 <code class=\"language-text\">compilerOptions</code>에 쓰인 옵션들 설명\n<ul>\n<li><code class=\"language-text\">target</code><br>\nCMA Script 버전을 ‘ES3’(기본값),<br>\n‘ES5’, ‘ES2015’, ‘ES2016’, ‘ES2017’, ‘ES2019’, ‘ES2021’ 또는 ‘ESNEXT’로 지정.</li>\n<li><code class=\"language-text\">module</code><br>\n모듈을 위한 코드 생성 설정:<br>\n‘none’, ‘commonjs’, ‘amd’, ‘system’, ‘umd’, ‘es2015’, ‘es2020’, or ‘ESNext’.</li>\n<li><code class=\"language-text\">jsx</code>: JSX 코드 생성 설정: ‘preserve’, ‘react-native’, 혹은 ‘react’.</li>\n<li><code class=\"language-text\">sourceMap</code>: ‘.map’ 파일 생성 여부.</li>\n<li><code class=\"language-text\">outDir</code>: 해당 디렉토리로 결과 구조를 보냅니다.</li>\n<li><code class=\"language-text\">noImplicitAny</code>: ‘any’ 타입으로 구현된 표현식 혹은 정의 에러처리 여부</li>\n<li><code class=\"language-text\">lib</code>: 컴파일에 포함될 라이브러리 파일 목록</li>\n<li><code class=\"language-text\">skipLibCheck</code>: 정의 파일의 타입 확인을 건너 뛸 지 여부</li>\n<li><code class=\"language-text\">esModuleInterop</code><br>\n모든 imports에 대한 namespace 생성을 통해<br>\nCommonJS와 ES Modules 간의 상호 운용성이 생기게할 지 여부,<br>\n‘allowSyntheticDefaultImports’를 암시적으로 승인.</li>\n<li><code class=\"language-text\">allowSyntheticDefaultImports</code><br>\ndefault export이 아닌 모듈에서도 default import가 가능하게 할 지 여부,<br>\n해당 설정은 코드 추출에 영향은 주지 않고, 타입확인에만 영향을 줌.</li>\n<li><code class=\"language-text\">strict</code>: 모든 엄격한 타입-체킹 옵션 활성화 여부</li>\n<li><code class=\"language-text\">forceConsistentCasingInFileNames</code>: 같은 파일에 대한 일관되지 않은 참조를 허용하지 않을 지 여부</li>\n<li><code class=\"language-text\">noFallthroughCasesInSwitch</code>: switch문에서 fallthrough 케이스에 대한 에러보고 여부</li>\n<li><code class=\"language-text\">moduleResolution</code>: 모듈 해석 방법 설정: ‘node’ (Node.js) 혹은 ‘classic’ (TypeScript pre-1.6).</li>\n<li><code class=\"language-text\">isolatedModules</code>: 각 파일을 분리된 모듈로 트랜스파일 (‘ts.transpileModule’과 비슷합니다).</li>\n<li><code class=\"language-text\">resolveJsonModule</code><br>\nnode 프로젝트에서 일반적으로 사용되는 확장자가 ‘.json’인 모듈을 가져올 수 있음.<br>\n여기에는 import정적 JSON 모양을 기반으로 하는 유형 생성이 포함됨.<br>\n(TypeScript는 기본적으로 JSON 파일 확인을 지원하지 않음)</li>\n<li><code class=\"language-text\">noEmit</code>: 결과 파일 내보낼지 여부</li>\n<li><code class=\"language-text\">allowJs</code>: 자바스크립트 파일 컴파일 허용 여부</li>\n</ul>\n</li>\n<li>더 많은 옵션: <a href=\"https://geonlee.tistory.com/214\" target=\"_blank\" rel=\"nofollow\">tsconfig.json의 컴파일 옵션 정리</a></li>\n</ul>\n<h3>3. <code class=\"language-text\">webpack.config.js</code> 파일 생성</h3>\n<p><strong>1)</strong> 초기</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> mode <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">||</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token punctuation\">,</span>\n  devtool<span class=\"token operator\">:</span> mode <span class=\"token operator\">===</span> <span class=\"token string\">'development'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'source-map'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'hidden-source-map'</span><span class=\"token punctuation\">,</span>\n  entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    app<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'index.tsx'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">'[name].js'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 컴파일 될 파일이름. ( [name]은 entry 키의 app을 뜻함 )</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 컴파일된 파일이 저장될 폴더</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    extensions<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'.ts'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.tsx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 특정 확장자만 resolve</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        test<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.(ts|tsx)$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        use<span class=\"token operator\">:</span> <span class=\"token string\">'ts-loader'</span><span class=\"token punctuation\">,</span>\n        exclude<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">node_modules</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>\n<p>여기서 쓰인 옵션들 일부 정리</p>\n<ul>\n<li><code class=\"language-text\">mode</code><br>\nmode 속성을 development, production 또는 none으로 설정하면<br>\nwebpack에 내장된 환경별 최적화를 활성화 할 수 있음</li>\n<li><code class=\"language-text\">entry</code>: 엔트리 포인트 설정</li>\n<li><code class=\"language-text\">output</code><br>\n생성된 번들을 내보낼 위치와 이 파일의 이름을 지정하는 방법을 webpack에 알려주는 역할.<br>\n기본 출력 파일의 경우에는 ./dist/main.js로 생성된 기타 파일의 경우에는 ./dist 폴더로 설정</li>\n<li><code class=\"language-text\">resolve</code><br>\nmodule이 resolve 되는 방식을 변경시킨다.<br>\n<em>예)</em> import ‘lodash’ 호출시, resolve 옵션은 웹팩이 lodash를 찾는 방법을 변경</li>\n<li><code class=\"language-text\">module.rules</code>: 모듈이 생성 될 때 요청과 일치하는 Rule의 배열</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">resolve</code>..?</p>\n<ul>\n<li><a href=\"https://github.com/hoilzz/TIL/blob/master/FrontEnd/webpack/%EA%B3%B5%ED%99%88%EB%B2%88%EC%97%AD/module-resolution.md\" target=\"_blank\" rel=\"nofollow\">github - hoilzz : module resolution</a></li>\n<li><a href=\"https://webpack.kr/configuration/resolve/\" target=\"_blank\" rel=\"nofollow\">Webpack 공식 - Resolve</a></li>\n</ul>\n</li>\n</ul>\n<p><strong>2)</strong> 테스트를 위해 미리 파일 생성</p>\n<p><code class=\"language-text\">src/App.tsx</code></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Test</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">src/index.tsx</code></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">src/public/index.html</code></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document &lt;%= env %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><strong>3)</strong> webpack: <code class=\"language-text\">html-webpack-plugin</code> 설치</p>\n<p><code class=\"language-text\">index.html</code>을 처리하기 위해 <code class=\"language-text\">html-webpack-plugin</code> 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm i --save-dev html-webpack-plugin</code></pre></div>\n<p>webpack.config.js 파일에 html-webpack-plugin을 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> mode <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">||</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ... 중간 생략 ...</span>\n\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      template<span class=\"token operator\">:</span> <span class=\"token string\">'./src/public/index.html'</span><span class=\"token punctuation\">,</span>\n      templateParameters<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// HTML 파일에서 사용될 변수들</span>\n        env<span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span> <span class=\"token operator\">?</span> <span class=\"token string\">''</span> <span class=\"token operator\">:</span> <span class=\"token string\">'[DEV]'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n      <span class=\"token comment\">// 번들링된 HTML 파일에서 공백이 제거되고 주석이 삭제됨</span>\n      minify<span class=\"token operator\">:</span>\n        process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span>\n          <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n              collapseWhitespace<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n              removeComments<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      hash<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 정적 파일을 불러올 때 쿼리문자열에 웹팩 해쉬값을 추가.</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">HTMLWebpackPlugin</code>..?\n<ul>\n<li>빌드시 html에 값을 전달하여 html을 변경</li>\n<li>html 코드 압축(공백 제거, 주석 제거)</li>\n<li>webpack으로 빌드한 번들 파일을 자동으로 html에 추가</li>\n</ul>\n</li>\n<li>이 설정들을 테스트 해보기 위해 <code class=\"language-text\">package.json</code> 수정 (<code class=\"language-text\">scripts</code> 추가)\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"production\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NODE_ENV=production webpack --progress\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">--progress</code>는 빌드 진척률을 보여줌</li>\n<li>실행법: <code class=\"language-text\">npm run [이름]</code><br>\n예) <code class=\"language-text\">npm run production</code></li>\n</ul>\n</li>\n</ul>\n<p><strong>3-1)</strong> webpack: <code class=\"language-text\">clean-webpack-plugin</code> 설치</p>\n<p>webpack을 실행할 때 마다 dist 폴더의 모든 항목을 삭제하려면 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm i --save-dev clean-webpack-plugin</code></pre></div>\n<p>webpack.config.js 파일에 clean-webpack-plugin을 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> CleanWebpackPlugin <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clean-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> mode <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">||</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ... 중간 생략 ...</span>\n\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ... 생략 ...</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">CleanWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 요고만 추가하면 됨</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2><strong>[2]</strong> webpack dev server</h2>\n<p>로컬에서 webpack 실행결과를 확인하기 위해 사용.</p>\n<ul>\n<li>결과물이 실제 파일로 보이지 않음</li>\n<li><code class=\"language-text\">webpack</code>을 커맨드라인에 입력하여 수정할 때 마다 번들링한 파일을 생성해줄 필요가 없음</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm i --save-dev webpack-dev-server</code></pre></div>\n<p><code class=\"language-text\">package.json</code> 수정 (<code class=\"language-text\">scripts</code>에 추가 및 수정)</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NODE_ENV=development webpack serve --progress\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"production\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NODE_ENV=production webpack --progress\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>weback dev server 실행 시, <code class=\"language-text\">webpack-dev-server</code>가 아닌 <code class=\"language-text\">webpack serve</code>로!!<br>\n(예전에는 <code class=\"language-text\">webpack-dev-server</code>로 실행했었는데 <code class=\"language-text\">webpack serve</code>로 바뀜!)</li>\n</ul>\n<p><strong>1)</strong> <code class=\"language-text\">webpack.config.js</code>에 devServer 옵션 설정</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> CleanWebpackPlugin <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clean-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> mode <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">||</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ... 중간 생략 ...</span>\n\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">/* ... 생략 ... */</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    contentBase<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./public'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    hot<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    host<span class=\"token operator\">:</span> <span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span>\n    port<span class=\"token operator\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">,</span>\n    historyApiFallback<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    writeToDisk<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>\n<p>여기서 쓰인 옵션들 정리</p>\n<ul>\n<li><code class=\"language-text\">contentBase</code><br>\n서버에 콘텐츠를 제공할 위치를 알려줌 (정적 파일들)</li>\n<li><code class=\"language-text\">hot</code><br>\nhot reload 기능 활성<br>\n(전체 Reload 없이 애플리케이션 실행되는 동안 모듈을 교환, 추가 또는 제거)</li>\n<li><code class=\"language-text\">host</code>: 개발환경에서 도메인을 맞추어야 하는 상황에서 사용</li>\n<li><code class=\"language-text\">port</code>: 개발 서버 포트 번호 설정</li>\n<li><code class=\"language-text\">historyApiFallback</code><br>\n히스토리 API를 사용하는 SPA 개발시 설정. 404가 발생하면 index.html로 리다이렉트</li>\n<li><code class=\"language-text\">writeToDisk</code><br>\ntrue시 devServer로 생성되는 컴파일된 파일을 저장함.<br>\n저장은 설정한 output.path 디렉토리에 기록 (기본값 false)</li>\n</ul>\n</li>\n</ul>\n<p>전부는 아니지만 추가 옵션 끄적끄적 👀</p>\n<ul>\n<li>\n<p>추가 옵션 1</p>\n<ul>\n<li><code class=\"language-text\">publicPath</code>: 브라우저를 통해 접근하는 경로 (기본값 ’/‘)</li>\n<li><code class=\"language-text\">overlay</code>: 빌드시 에러나 경고를 브라우져 화면에 표시</li>\n<li><code class=\"language-text\">stats</code><br>\n메시지 수준을 정할수 있다.<br>\n‘none’, ‘errors-only’, ‘minimal’, ‘normal’, ‘verbose’로 메세지 수준을 조절</li>\n</ul>\n</li>\n<li>\n<p>추가 옵션 2 (lazy &#x26; filename)</p>\n<ul>\n<li>\n<p><code class=\"language-text\">lazy</code><br>\nlazy모드가 활성화가 되면 dev-server는 요청될 때만 번들을 컴파일.<br>\n이는 웹 팩이 파일 변경 사항을 감시하지 않음을 의미.<br>\n게으른 모드라고도 불러짐</p>\n</li>\n<li>\n<p><code class=\"language-text\">filename</code><br>\ndevServer 설정하는 부분에서의 filename 옵션은 lazy 모드에서 사용하면 컴파일을 줄일수 있음.<br>\n<strong><em>lazy 모드에서 없이 사용하면 효과 없음</em></strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 적용 예시</span>\ndevServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    lazy<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">'[name].js'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h2><strong>[3]</strong> webpack에 loader 추가</h2>\n<p><strong>1-1)</strong> <code class=\"language-text\">css-loader</code><br>\nwebpack에서 .css 파일을 읽어들이기위해 사용하는 로더</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># css-loader 설치\nnpm i --save-dev css-loader</code></pre></div>\n<p><strong>1-2)</strong> <code class=\"language-text\">style-loader</code><br>\n<code class=\"language-text\">&lt;style></code> 태그를 삽입하여 CSS에 DOM을 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># style-loader 설치\nnpm i --save-dev style-loader</code></pre></div>\n<p><strong>1-3)</strong> <code class=\"language-text\">css-loader</code> &#x26; <code class=\"language-text\">style-loader</code>를 <code class=\"language-text\">webpack.config.js</code>에 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> CleanWebpackPlugin <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clean-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> mode <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">||</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token punctuation\">,</span>\n  devtool<span class=\"token operator\">:</span> mode <span class=\"token operator\">===</span> <span class=\"token string\">'development'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'source-map'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'hidden-source-map'</span><span class=\"token punctuation\">,</span>\n  entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 생략 */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 생략 */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        test<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.(ts|tsx)$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        use<span class=\"token operator\">:</span> <span class=\"token string\">'ts-loader'</span><span class=\"token punctuation\">,</span>\n        exclude<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">node_modules</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> test<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.css$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> use<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'style-loader'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'css-loader'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 추가('style-loader', 'css-loader')</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 생략 */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">/* 생략 */</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 생략 */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>1-4)</strong> <code class=\"language-text\">css-loader</code> &#x26; <code class=\"language-text\">style-loader</code> 추가 설명 및 동작 원리</p>\n<ul>\n<li>이 2개의 loader들은 보통 결합해서 씀.</li>\n<li>동작 원리\n<ul>\n<li><code class=\"language-text\">use: ['style-loader', 'css-loader']</code> 처럼<br>\n여러 loader 를 위와 같이 중복해서 쓰면 오른쪽의 loader 부터 읽게 됨.<br>\n이러한 것을 <strong>ChainingLoaders</strong> 라고 한다.\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1. Webpack은 모듈안에 의존적인 css 파일을 검색\n2. 찾으면 css-loader 실행\n3. css-loader는 모든 css와 그 css 내부의 import한 다른 css 파일을\n    json 파일로 로드하고 style-loader에 넘겨준다.\n4. style-loader는 json을 가져와서 &lt;style> 태그를 추가하고\n    index.html 파일 안에 tag를 삽입한다</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>2-1)</strong> <code class=\"language-text\">file-loader</code><br>\n이름 그대로 파일을 로딩하는 loader</p>\n<ul>\n<li>웹팩은 모든 것을 모듈로 처리하는데 CSS 파일도 모듈로 다룸.<br>\nCSS에서 url() 함수에 파일명을 지정할수 있는데<br>\n이를 모듈에서 발견하면 웹팩은 file-loader를 통해 파일을 복사함.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"># file-loader 설치\nnpm i --save-dev file-loader</code></pre></div>\n<p><strong>2-2)</strong> <code class=\"language-text\">file-loader</code>를 <code class=\"language-text\">webpack.config.js</code>에 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/* 생략 */</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    mode<span class=\"token punctuation\">,</span>\n    devtool<span class=\"token operator\">:</span> <span class=\"token comment\">/* 생략 */</span><span class=\"token punctuation\">,</span>\n    entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* 생략 */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* 생략 */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token comment\">/* 생략 */</span>\n\n            <span class=\"token comment\">// 추가 (file-loader)</span>\n            <span class=\"token punctuation\">{</span>\n                test<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.(webp|jpg|png|jpeg)$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n                loader<span class=\"token operator\">:</span> <span class=\"token string\">'file-loader'</span><span class=\"token punctuation\">,</span>\n                options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                    name<span class=\"token operator\">:</span> <span class=\"token string\">'[name].[ext]?[hash]'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 파일명 형식</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* 생략 */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token comment\">/* 생략 */</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* 생략 */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>여기서는 확장자 <code class=\"language-text\">webp</code>, <code class=\"language-text\">jpg</code>, <code class=\"language-text\">png</code>, <code class=\"language-text\">jpeg</code>를 가진 파일들을 <code class=\"language-text\">file-loader</code>로 처리해줌</li>\n<li><code class=\"language-text\">options</code>에서<code class=\"language-text\">name</code>의 placeholder들\n<ul>\n<li><code class=\"language-text\">[name]</code>은 entry에 있는 app의 키 이름을 가져옴 (<code class=\"language-text\">\"app\"</code>)</li>\n<li><code class=\"language-text\">[ext]</code>는 파일/리소스의 파일 <strong>확장자</strong></li>\n<li><code class=\"language-text\">[hash]</code>는 특정 빌드에 해당하는 <strong>해쉬</strong> 값</li>\n</ul>\n</li>\n<li>file-loader의 속성들\n<ul>\n<li><code class=\"language-text\">options</code>: 옵션을 설정.</li>\n<li><code class=\"language-text\">options.name</code>: 조건에 해당하는 파일이 저장될 경로(이름 포함)를 설정.</li>\n<li><code class=\"language-text\">output</code>: 번들된 결과물이 저장되는 출력 디렉토리에 대한 정보를 담은 객체.</li>\n<li><code class=\"language-text\">path</code>: 파일이 저장될 경로를 의미.</li>\n</ul>\n</li>\n</ul>\n<p><strong>3)</strong> loader 설정 할 때의 <code class=\"language-text\">webpack.config.js</code>의 <code class=\"language-text\">module.rules</code>의 아이템 (<code class=\"language-text\">rule</code>) 하나마다 속성들.</p>\n<ul>\n<li><code class=\"language-text\">test</code>: 정규식 또는 문자열을 통해 조건에 해당하는 파일을 찾음.</li>\n<li><code class=\"language-text\">use</code>: 조건에 해당하는 파일을 처리할 로더. 복수의 로더가 있는 경우 역순으로 실행.</li>\n<li><code class=\"language-text\">include</code>: 검사를 포함할 경로이며, test와 함께 사용시 대상인 파일은 두 조건을 모두 일치해야 함.</li>\n<li><code class=\"language-text\">exclude</code>: 검사를 제외할 경로이며, test 및 include 보다 우선시 함.</li>\n</ul>\n<hr>\n<h3>참고자료</h3>\n<p><strong>[+]</strong> 공통</p>\n<ul>\n<li><a href=\"https://webpack.kr/configuration/module/#modulerules\" target=\"_blank\" rel=\"nofollow\">webpack : module.rules</a></li>\n<li><a href=\"https://webpack.kr/concepts/loaders/#inline\" target=\"_blank\" rel=\"nofollow\">webpack : loaders inline 접두사</a></li>\n</ul>\n<p><strong>[1]</strong> 일반 (Normal : No webpack-dev-server)</p>\n<ul>\n<li><a href=\"https://blog.doitreviews.com/development/2020-05-07-react-typescript-webpack/\" target=\"_blank\" rel=\"nofollow\">CRA 없이 React + TypeScript + Webpack 프로젝트 만들기 #1</a></li>\n<li><a href=\"https://yamoo9.gitbook.io/typescript/cli-env/tsconfig\" target=\"_blank\" rel=\"nofollow\">TypeScript컴파일 설정</a></li>\n<li><a href=\"https://webpack.kr/\" target=\"_blank\" rel=\"nofollow\">Webpack 공식</a></li>\n<li><a href=\"https://hoilzz.github.io/webpack/9-resolve/\" target=\"_blank\" rel=\"nofollow\">[나만의 웹팩 만들기] 9. resolve</a></li>\n<li><a href=\"https://www.typescriptlang.org/tsconfig#resolveJsonModule\" target=\"_blank\" rel=\"nofollow\">tsconfig - resolveJsonModule</a></li>\n<li><a href=\"https://agal.tistory.com/71\" target=\"_blank\" rel=\"nofollow\">자주 사용하는 플러그인 - 웹팩(Webpack) 기본편 | 김정환</a></li>\n</ul>\n<p><strong>[2]</strong> webpack dev server</p>\n<ul>\n<li><a href=\"https://blog.doitreviews.com/development/2020-05-11-webpack-dev-server-and-svg/\" target=\"_blank\" rel=\"nofollow\">CRA 없이 React + TypeScript + Webpack 프로젝트 만들기 #2</a></li>\n<li><a href=\"https://joshua1988.github.io/webpack-guide/tutorials/webpack-dev-server.html#%EC%9B%B9%ED%8C%A9-%EB%8D%B0%EB%B8%8C-%EC%84%9C%EB%B2%84\" target=\"_blank\" rel=\"nofollow\">웹팩 핸드북 : 웹팩 데브 서버</a></li>\n<li><a href=\"https://jeonghwan-kim.github.io/series/2020/01/02/frontend-dev-env-webpack-intermediate.html\" target=\"_blank\" rel=\"nofollow\">프론트엔드 개발환경의 이해: 웹팩(심화)</a></li>\n<li><a href=\"https://trustyoo86.github.io/webpack/2018/01/10/webpack-configuration.html\" target=\"_blank\" rel=\"nofollow\">webpack 설정 option에 대해서</a></li>\n<li>Webpack 공식 : devServer의 옵션들 일부\n<ul>\n<li><a href=\"https://webpack.js.org/configuration/dev-server/\" target=\"_blank\" rel=\"nofollow\">devServer</a></li>\n<li><a href=\"https://webpack.js.org/configuration/dev-server/#devserverlazy-\" target=\"_blank\" rel=\"nofollow\">devServer.lazy</a></li>\n<li><a href=\"https://webpack.js.org/configuration/dev-server/#devserverfilename-\" target=\"_blank\" rel=\"nofollow\">devServer.filename</a></li>\n<li><a href=\"https://webpack.js.org/configuration/dev-server/#devserverwritetodisk-\" target=\"_blank\" rel=\"nofollow\">devServer.writeToDisk</a></li>\n<li><a href=\"https://webpack.js.org/configuration/dev-server/#devserverhot\" target=\"_blank\" rel=\"nofollow\">devServer.hot</a>\n<ul>\n<li><a href=\"https://webpack.js.org/concepts/hot-module-replacement/\" target=\"_blank\" rel=\"nofollow\">webpack : Hot Module Replacement</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>[3]</strong> webpack에 loader 추가</p>\n<ul>\n<li><a href=\"https://heecheolman.tistory.com/33\" target=\"_blank\" rel=\"nofollow\">[Webpack] css-loader &#x26; style-loader</a></li>\n<li><a href=\"https://jeonghwan-kim.github.io/js/2017/05/22/webpack-file-loader.html\" target=\"_blank\" rel=\"nofollow\">웹팩의 file-loader와 url-loader</a></li>\n<li><a href=\"https://v4.webpack.js.org/loaders/file-loader/#ext\" target=\"_blank\" rel=\"nofollow\">webpack : file-loader Placeholders</a></li>\n<li><a href=\"https://joshua1988.github.io/web-development/webpack/caching-strategy/\" target=\"_blank\" rel=\"nofollow\">Webpack(웹팩) 캐싱 전략</a></li>\n<li><a href=\"https://kowoohyuk.tistory.com/139\" target=\"_blank\" rel=\"nofollow\">우럭🐟 의 웹팩 기초, 로더</a></li>\n</ul>","frontmatter":{"title":"[Webpack] CRA없이 React + TypeScript 환경 만들기 (feat. Webpack)","summary":null,"date":"2021.07.15.","categories":["JavaScript","Webpack"],"options":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADEklEQVQ4y5VVW2sTURAO9UFRsXjD/+DlF4iPIiq0DyKKIoLgkxa84INYwQtoqyBoLUprFUVUtFLSatXaKKLFis1l47Wa3pKYtGDXYm2a3XPO98nZbNJtYkUXhnw7Z+bLzHDmW5+v6CE5zSQwK4+VB+dtxscbNCGgf73Ji13Lv89yY0qJi/+RZFlWokzjh0mp33dJIKmApMZ94zkiKxdTVlKxp7XiqtaSfGOYioGUYGdKMGoqkux2zwrVSoVSQmvKuZxk89AvxeZBwSPBrLg7KNSdAaE0vj8omPjlEDe7sbpaJxeAzzu3BSTPpiaU3Z4UrIla6njEkjcGgK6U5dj1AUD7aqOWepQUTGeUrXNyuShUmG+zckKAgZTk6aglLnwS0LipO43Vta+x5kw3rr1JozMlef6TjZqoJZ6lJTMCutrKfPteworIqOTNPlsaP4DI8CQq63swe88TLjv03DGNN10KwhiZRMRUuBmzpTvXCrfl6YRRU/JIyFJtcYHGF0Os9n/l+roeLtwf4KIDAW68GHR8TS/j9McFqkOWev9jirCkQk14ImKptoTAhroerjrRxdon/az2f+FR/1fWPO7niuOvWFEfZGtC4qTxH4RbGsIs39fJuVVPHcLDLb0O1r5tTQZb4wI69q+E70xJ3UZbQmLz5RDn7H3KJQefcXuTwa1XIg6es7eD2xrD9McljoYs9eFvhMHvkpc+21IP/MHnMey4amBeVQe3XjG4uSHC+VUd3HnNQHvvGMKmgo4Nj8oZCSvHLPDViOSFj5ao75UIDIMNr9M43R7DqfYYGruHHd/FXom6j7boGpHUOcXXxrnppoVykueGMxCt8dzFPha2ZGNMITyqEBpVaIgpaJ8+a0sIjkxC6Bwzi/KsxNSmCAXfuF1YvZUkWwbHFe8NCFYHs+J2v1C3+oTSWK/jUG71WtxY308bDse0XXYdXnFYR/KtnpHeDi0OhunM6617VhAH8Sdx8MpXRsArS7sl8E2bxnn/5B/ky2nZq4vISZgvUyqwS10rVOXGFHL+SbmLPwFePBPRb8kZo9gxJ8drAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/ab95f9865c9e7ce1b71a48f21be91791/5f2c3/background_webpack.png","srcSet":"/static/ab95f9865c9e7ce1b71a48f21be91791/90cd3/background_webpack.png 100w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/614dc/background_webpack.png 200w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/5f2c3/background_webpack.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/ab95f9865c9e7ce1b71a48f21be91791/e64f1/background_webpack.webp 100w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/8b00d/background_webpack.webp 200w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/9c0a1/background_webpack.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}},"publicURL":"/static/ab95f9865c9e7ce1b71a48f21be91791/background_webpack.png"}}}}]}},"pageContext":{"slug":"/2021-07-15-CRA없이_React_+_TypeScript_환경_만들기_(feat._Webpack)/"}},
    "staticQueryHashes": []}