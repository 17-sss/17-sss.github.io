{
    "componentChunkName": "component---src-pages-custom-post-tsx",
    "path": "/posts/2021/2021-03-09-debounce_throttle/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"bf17d384-2cd8-505b-893a-f74bfccb07d7","fields":{"slug":"/2021/2021-03-09-debounce_throttle/"},"html":"<h1>Throttle와 Debounce</h1>\n<h3>1. 개념</h3>\n<p><strong>1)</strong> <strong>Throttle와 Debounce</strong> 는 자주 사용 되는 이벤트나 함수 들의 실행되는 빈도를 줄여서, <strong>성능 상의 유리함을 가져오기 위함</strong></p>\n<ul>\n<li>자주 사용되는 간단한 예로는 자동 완성이 있음.</li>\n<li>키보드에 1글자씩 입력될 때마다, API로 데이터를 가져오면 사용자의 의도와 무관한 요청이 자주 발생함.<br>\n이를 줄이기 위해 입력이 끝난 후나 입력되는 중간마다 (약 200ms) api 값을 가져온다면?<br>\n성능이 매우 좋아진다!</li>\n</ul>\n<blockquote>\n<p>Throttle는 입력 주기를 방해하지 않고, 일정 시간 동안의 입력을 모아서, 한번씩 출력을 제한.<br>\nDebounce는 입력 주기가 끝나면 출력.</p>\n</blockquote>\n<p><strong>2) 예제</strong><br>\nHTML</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>JS</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> debounce <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> throttle <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">keyUpEventHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> target <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// normal</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'normal'</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// debounce</span>\n    <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>debounce<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    debounce <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'debounce'</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// throttle</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>throttle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'throttle'</span><span class=\"token punctuation\">,</span> throttle<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            throttle <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    throttle <span class=\"token operator\">=</span> target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// input 에 keyup event listener 를 등록</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'search'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keyup'</span><span class=\"token punctuation\">,</span> keyUpEventHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>JS (log)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// normal h         1583658583270</span>\n<span class=\"token comment\">// normal he        1583658583582</span>\n<span class=\"token comment\">// normal hel       1583658583878</span>\n<span class=\"token comment\">// normal hell      1583658584182</span>\n<span class=\"token comment\">// throttle hell    1583658584271</span>\n<span class=\"token comment\">// 입력이 끝남</span>\n<span class=\"token comment\">// normal hello     1583658584534</span>\n<span class=\"token comment\">// debounce hello   1583658585036</span>\n<span class=\"token comment\">// throttle hello   1583658585536</span></code></pre></div>\n<ul>\n<li>먼저 <em>search</em> 라는 id를 가진 <code class=\"language-text\">input</code> keyup 이벤트 리스너 등록 (keyUpEventHandler)</li>\n<li><strong>normal</strong> 부분에서는 키보드입력 발생하면, 그 즉시 value 를 출력.</li>\n<li><strong>throttle</strong> 부분에서는 키보드입력 발생하면 500ms 후 가장 최신 value 를 출력 &#x26; 초기화 하여, 키보드 입력이 끝날때까지 반복.</li>\n<li><strong>debounce</strong> 부분에서는 키보드 입력이 발생하면, 500ms 동안 기다리고 그 안에 키보드 입력이 발생 시 시간을 초기화 하고 다시 기다리다가 가장 최신 value 를 출력</li>\n</ul>\n<h3>2. Throttle</h3>\n<p>Throttle는 여러 번 발생하는 이벤트를 일정 시간 동안, 한번만 실행 되도록 만드는 개념.</p>\n<ul>\n<li>위 예제에서 500ms 동안 이벤트 실행을 막음, 한번만 실행하기에 잦은 이벤트 발생을 막아 성능이 좋아진다</li>\n<li>Debounce와 다른 점은 이벤트 발생 시간 이후에 일정 시간 동안 기다리고, 이벤트를 실행 후 재차 기다린다는 점</li>\n</ul>\n<h3>3. Debounce</h3>\n<p>Debounce 는 여러 번 발생하는 이벤트에서, 가장 마지막 이벤트 만을 실행 되도록 만드는 개념.</p>\n<ul>\n<li>위 예제에서 입력이 끝난 500ms 동안 동일한 이벤트가 계속해서 발생 한다면 입력이 끝날 때, 가장 마지막 이벤트만을 실행하여 성능이 좋아진다.</li>\n<li>Throttle와 다른 점은 마지막 이벤트에서 일정 시간동안 이벤트가 발생한다면 또 일정 시간을 기다린다는 점</li>\n</ul>\n<h3>4. Throttle 와 Debounce 차이점</h3>\n<p>Throttle와 Debounce 의 차이점은 이벤트를 언제 발생을 시킬지 시점 차이.</p>\n<ul>\n<li>Debounce는 입력이 끝날 때까지 무한적으로 기다리지만, Throttle 는 입력이 시작되면 일정 주기로 계속 실행한다.</li>\n<li>Debounce의 시간을 짧게 가져간다면 Throttle와 비슷한 효과가 날 수 있지만 그럼에도 시점에서 차이가 날 수 있음<br>\n떄문에 작업물의 성격에 따라 사용법이 달라질 수 있다.</li>\n<li>대표적으로 자동완성을 만들 시 일정 주기로 자동 완성되는 리스트를 보여주는 것에는<br>\n사용자 측면에서 Throttle가 유리<br>\n성능상에서는 Debounce가 훨씬 유리할 수 있다.\n<ul>\n<li>Throttle은 검색 되는 경험을 주지만, Debounce는 1번만 호출하기에 성능에서 유리.</li>\n</ul>\n</li>\n</ul>\n<hr/>\n<h3>참고자료</h3>\n<ul>\n<li><a href=\"https://pks2974.medium.com/throttle-%EC%99%80-debounce-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0-2335a9c426ff\" target=\"_blank\" rel=\"nofollow\">Throttle 와 Debounce 개념 정리하기</a></li>\n</ul>","frontmatter":{"title":"[JavaScript] Throttle와 Debounce","summary":null,"date":"2021.03.09.","categories":["JavaScript"],"options":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACC0lEQVQ4y+2STWgTURDHp9ukrek2NZsPm2b3zXYlgh49VLCCBUEPOdajZw/ivUeVilBpxfpFFErQIuhFFL8QD16LtRaxB4vZbfO5SRtitdloPjYjm1YNJQEpHn0MD96895v5z5uB78tsxwb/4X8HFzXLGo+GtiN4I2rtpRgrqMxQ/wI2fr/TGGVwI8rWFiUzjdU0bgaFpgkrCaZ/EI8d2XUy5Pj2Waom8dpFYX/QLvrbR0KOxTf91QQaWjPY0JiZxNhcwMlzCtrMFD6a9gJAf1/70GAnAJw+xZOOhtoCriYxMS8Ku7mgYiMdR886ASBy00OkPL/rTS2I5bglsCUcfyf2Oq3MpOOdCTcAHNhnf3DLU8pgLS8X1RY1F9Q/cHDAVohanpGQA+prr2x7NuOjTDPZhmr1oxzHlbd1WLF/XZIqaSzn5CcR3/GjXQDAd3Pzr/yURtj2z7UsJt+LlJOzn6TeHgs2VJb9KM296KOKQqYyesaqf/K8i/IyNKqlLN6+7Oa726bGhBuXBAAYGuysxNmhgx0d9rarF4SX9/cMH7aSz1z30FoDbKiMdHwc8fbw3GZ5HAcPwx7Ky+FxwVl3cvWbE8Nd60vSjxW2XTatYnQ2EB4XpsZcC6/9tfow0aqszQamr7gnzrme3vMVllk50axVRY1VU0hfZFqXTX1rDIsaM385KSeXYlsz/xOJuKXQ2JEzDwAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/db7933e6a7f7acaf99a33f39b286974b/34104/background_js.png","srcSet":"/static/db7933e6a7f7acaf99a33f39b286974b/5ce94/background_js.png 256w,\n/static/db7933e6a7f7acaf99a33f39b286974b/8a20a/background_js.png 512w,\n/static/db7933e6a7f7acaf99a33f39b286974b/34104/background_js.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/db7933e6a7f7acaf99a33f39b286974b/99d55/background_js.webp 256w,\n/static/db7933e6a7f7acaf99a33f39b286974b/3591c/background_js.webp 512w,\n/static/db7933e6a7f7acaf99a33f39b286974b/e306d/background_js.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}},"publicURL":"/static/db7933e6a7f7acaf99a33f39b286974b/background_js.png"}}}}]}},"pageContext":{"slug":"/2021/2021-03-09-debounce_throttle/"}},
    "staticQueryHashes": ["1642645631","2183628444","3590156278","363963755","3949884163","77750267","884297919"]}