{"componentChunkName":"component---src-pages-custom-post-tsx","path":"/posts/2021/2021-07-06-JavaScript_this/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"e421af2b-29ab-587c-ae41-9126a6287e75","fields":{"slug":"/2021/2021-07-06-JavaScript_this/"},"html":"<h1>🤔 JS에서의 this..?</h1>\n<h2><strong>[1]</strong> JavaScript에서의 this와 call, apply, bind 메서드</h2>\n<h3><strong>1.</strong> this란?</h3>\n<ul>\n<li><code class=\"language-text\">JS</code>에서 함수의 this 키워드는 다른 언어들과 비교하여 조금 다르게 동작.</li>\n<li><code class=\"language-text\">strict mode</code>와 <code class=\"language-text\">non-strict mode</code> 사이에서도 조금 다름.</li>\n<li><code class=\"language-text\">this</code>의 값은 함수를 호출하는 방법에 의해 결정\n<ul>\n<li>실행하는 동안 할당에 의해 설정될 수 없으며 함수가 호출될 때 마다 다를 수 있음</li>\n</ul>\n</li>\n<li>ES5에선 <code class=\"language-text\">this</code>값이 함수가 어떻게 호출되었는지 설정할 수 있는 <code class=\"language-text\">bind</code> 메서드가 나옴</li>\n</ul>\n<h3><strong>2.</strong> this의 이해</h3>\n<ul>\n<li>\n<p>바인딩이란?<br>\n<code class=\"language-text\">this</code>의 호출 방식에 따라 <code class=\"language-text\">this</code>가 특정 <em>객체</em> 에 연결됨.</p>\n</li>\n<li>\n<p><code class=\"language-text\">this</code>의 바인딩 그리고 <code class=\"language-text\">call</code>, <code class=\"language-text\">apply</code>, <code class=\"language-text\">bind</code> 메서드</p>\n<ul>\n<li>\n<p><strong>1)</strong> 일반 함수 내부에서의 <code class=\"language-text\">this</code>는 글로벌 객체와 바인딩됨</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">===</span> window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\na <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 30</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">x</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">x</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> window<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n</li>\n<li>\n<p><strong>2)</strong> 메서드 내부에서의 <code class=\"language-text\">this</code>는 메서드를 호출한 객체와 바인딩</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> ranoInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Rano'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">nickName</span><span class=\"token operator\">:</span> <span class=\"token string\">'agumon'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Name: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">  NickName: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nickName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ranoInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'Name: Rano  NickName: agumon`</span></code></pre></div>\n</li>\n<li>\n<p><strong>3)</strong> 생성자 함수 내부에서 <code class=\"language-text\">this</code>는 생성자 함수가 생성할 인스턴스와 바인딩 됨.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">ranoInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Rano'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nickName <span class=\"token operator\">=</span> <span class=\"token string\">'agumon'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInfo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Name: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">  NickName: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nickName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> ranoInfoTmp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ranoInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ranoInfoTmp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ranoInfo {name: \"Rano\", nickName: \"agumon\", getInfo: ƒ}</span></code></pre></div>\n</li>\n<li>\n<p><strong>4)</strong> <strong><code class=\"language-text\">Call</code></strong>, <strong><code class=\"language-text\">Apply</code></strong>, <strong><code class=\"language-text\">Bind</code></strong> 메서드 사용 시, 메서드에 <strong><em>첫 번째 인수</em></strong> 로 전달하는 객체에 바인딩!</p>\n<ul>\n<li><code class=\"language-text\">call</code> &#x26; <code class=\"language-text\">apply</code> 메서드는 기본적으로 함수를 호출하는 역할을 함\n<ul>\n<li>기존 함수 호출과의 차이점은?<br>\n이 메서드들 (<code class=\"language-text\">call</code> &#x26; <code class=\"language-text\">apply</code>)을 사용해 함수를 실행하면 함수의 첫 번째 인자로 전달하는 객체에 <code class=\"language-text\">this</code>를 바인딩 할 수 있음.<br>\n이를 통해서 유사 배열 arguments 객체에 배열 메서드를 사용할 수 있음.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">bind</code>는 첫 번째 인자를 <code class=\"language-text\">this</code>에 바인딩하지만 <strong>함수를 실행하지 않음</strong>, <em>새로운 함수를 반환</em></li>\n</ul>\n</li>\n<li>\n<p><strong>4-1)</strong> <strong><code class=\"language-text\">Call</code></strong><br>\n<code class=\"language-text\">call</code>을 사용하면 함수를 실행하고 함수의 첫 번째 인자로 전달하는 값에 <code class=\"language-text\">this</code>를 바인딩</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">logInfo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num1<span class=\"token punctuation\">,</span> num2<span class=\"token punctuation\">,</span> num3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name:'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gender:'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'money:'</span><span class=\"token punctuation\">,</span> num1 <span class=\"token operator\">+</span> num2 <span class=\"token operator\">+</span> num3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> rano <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Rano'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">gender</span><span class=\"token operator\">:</span> <span class=\"token string\">'Unknown'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">logInfo</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>rano<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*\n- logInfo의 console.log\n    name: Rano\n    gender: Unknown\n    money: 0    (num1 + num2 + num3)\n*/</span></code></pre></div>\n</li>\n<li>\n<p><strong>4-2)</strong> <strong><code class=\"language-text\">Apply</code></strong><br>\n<code class=\"language-text\">apply</code>를 사용하면 함수를 실행하고 함수의 첫 번째 인자로 전달하는 값에 <code class=\"language-text\">this</code>를 바인딩<br>\n<strong>></strong> <code class=\"language-text\">call</code>과 차이점은 인자를 배열 형태로 전달하는 것. (인자로 배열 자체가 전달하는 것이 아닌 배열의 요소들 값으로 전달.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">logInfo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num1<span class=\"token punctuation\">,</span> num2<span class=\"token punctuation\">,</span> num3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name:'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gender:'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'money:'</span><span class=\"token punctuation\">,</span> num1 <span class=\"token operator\">+</span> num2 <span class=\"token operator\">+</span> num3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> rano <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Rano'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">gender</span><span class=\"token operator\">:</span> <span class=\"token string\">'Unknown'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">logInfo</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>rano<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 요즘엔 apply 사용안함!!</span>\n<span class=\"token function\">logInfo</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>rano<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>nums<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 요즘은 call()과 전개 연산자 활용하여 사용함!</span>\n<span class=\"token comment\">/*\n- logInfo의 console.log\n    name: Rano\n    gender: Unknown\n    money: 0    (nums -> num1 + num2 + num3)\n*/</span></code></pre></div>\n</li>\n<li>\n<p><strong>4-3)</strong> <strong><code class=\"language-text\">Bind</code></strong><br>\n<code class=\"language-text\">bind</code>는 함수의 첫 번째 인자에 <code class=\"language-text\">this</code>를 바인딩한다는 점은 같음.<br>\n하지만 함수를 실행하지 않고 <em>새로운 함수를 반환</em><br>\n<strong>></strong> 반환된 새로운 함수를 실행해야 원본 함수가 실행됨!!</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">logInfo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num1<span class=\"token punctuation\">,</span> num2<span class=\"token punctuation\">,</span> num3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 원본 함수</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name:'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gender:'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'money:'</span><span class=\"token punctuation\">,</span> num1 <span class=\"token operator\">+</span> num2 <span class=\"token operator\">+</span> num3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> rano <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Rano'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">gender</span><span class=\"token operator\">:</span> <span class=\"token string\">'Unknown'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> RanoLogInfo <span class=\"token operator\">=</span> <span class=\"token function\">logInfo</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>rano<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 새로운 함수!</span>\n<span class=\"token function\">RanoLogInfo</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// RanoLogInfo(-1)(1)은 안댐!!</span>\n\n<span class=\"token comment\">/*\n- logInfo의 console.log\n    name: Rano\n    gender: Unknown\n    money: 0    ( 0 | -1, 1 -> num1 + num2 + num3)\n*/</span></code></pre></div>\n<p>바로 위 <code class=\"language-text\">RanoLogInfo</code>를 <code class=\"language-text\">bind</code> 함수를 통해 생성할 때 차라리..</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 이것보다는</span>\n<span class=\"token keyword\">const</span> RanoLogInfo <span class=\"token operator\">=</span> <span class=\"token function\">logInfo</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>rano<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 이게 낫지 않을까?</span>\n<span class=\"token keyword\">const</span> RanoLogInfo <span class=\"token operator\">=</span> <span class=\"token function\">logInfo</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>rano<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3><strong>3.</strong> 정리</h3>\n<ul>\n<li>\n<p><strong><code class=\"language-text\">this</code></strong><br>\n<code class=\"language-text\">this</code>는 <strong>함수 호출 방식에 따라 동적으로 결정됨</strong></p>\n<ul>\n<li>일반 함수로 호출 -> this는 글로벌 객체</li>\n<li>메서드로 호출 -> 이를 호출한 객체</li>\n<li>생성자 함수로 호출 -> 생성자 함수가 생성할 인스턴스</li>\n<li><code class=\"language-text\">Call</code>, <code class=\"language-text\">Apply</code>, <code class=\"language-text\">Bind</code> 메서드 사용 -> 메서드에 첫 번째 인수로 전달하는 객체에 바인딩</li>\n</ul>\n</li>\n<li>\n<p><strong><code class=\"language-text\">Call</code></strong>, <strong><code class=\"language-text\">Apply</code></strong>, <strong><code class=\"language-text\">Bind</code></strong> 메서드</p>\n<ul>\n<li><strong><code class=\"language-text\">Call</code></strong> 메서드는 함수를 실행<br>\n첫번째 인자에 <code class=\"language-text\">this</code>를 바인딩, 이후 값을 함수의 인자로 전달</li>\n<li><strong><code class=\"language-text\">Apply</code></strong> 메서드는 함수를 실행<br>\n첫번째 인자에 <code class=\"language-text\">this</code>를 바인딩, 이후 <em>값을 배열의 형태</em> 로 받아 차례로 함수의 인자로 전달.</li>\n<li><strong><code class=\"language-text\">bind</code></strong> 메서드는 함수를 <em>실행하지 않음</em><br>\n첫번째 인자에 <code class=\"language-text\">this</code>를 바인딩한 <em>새로운 함수를 반환.</em></li>\n<li><strong><em>각 메서드를 통해 전달할 수 있는 인자의 갯수엔 제한이 없음!!</em></strong></li>\n</ul>\n</li>\n</ul>\n<h2><strong>[2]</strong> JavaScript에서의 this는 함수를 호출하는 방법에 따라 결정 (예시 정리)</h2>\n<p>(<strong><em>함수를 호출 할 때 마다 this가 가리키는 값이 다를 수 있음</em></strong>)</p>\n<ul>\n<li>\n<p><strong>1)</strong> 전역에서 <code class=\"language-text\">this</code>를 호출</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span></code></pre></div>\n<ul>\n<li>전역에서의 <code class=\"language-text\">this</code>는 기본적으로 <code class=\"language-text\">window</code>를 가르킴.</li>\n</ul>\n</li>\n<li>\n<p><strong>2)</strong> 함수 안에서 <code class=\"language-text\">this</code>를 호출</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span></code></pre></div>\n<ul>\n<li>this를 결정하는 건 함수가 호출 될 때 이루어짐<br>\n<strong><em>(bind 함수 &#x26; 화살표 함수 제외)</em></strong></li>\n<li>함수를 호출한 객체가 무엇이냐에 따라 <code class=\"language-text\">this</code>가 결정</li>\n</ul>\n</li>\n<li>\n<p><strong>3)</strong> 메소드에서 <code class=\"language-text\">this</code>를 호출 했을 경우</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">doSomething</span><span class=\"token operator\">:</span> doSomething<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// obj</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">this</code>를 결정하는 것은 함수를 호출한 객체가 무엇이냐에 따라 달라짐.<br>\n<code class=\"language-text\">doSomething</code> 함수를 obj의 메소드로 등록하고 <code class=\"language-text\">obj.doSomething()</code>을 호출 했기 때문에 <code class=\"language-text\">this</code>는 <code class=\"language-text\">obj</code>.</li>\n<li>전역에서 선언되었을 경우 함수라 부르고, 객체에 속한 함수를 메소드라고 부름.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">doSomething</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 10</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//20</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">doSomething</code> 메소드 안에서 선언된 <code class=\"language-text\">func()</code> 함수지만 호출해보면 <code class=\"language-text\">console.log(this.a)</code>에 10.<br>\n(<code class=\"language-text\">obj</code> 객체와 <code class=\"language-text\">func</code> 함수는 아무런 관련이 없는 함수이기에)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">doSomething</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> self <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// obj this를 저장</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 20</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//20</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>메소드 내 함수에서 <code class=\"language-text\">this</code>를 가리키려면 <code class=\"language-text\">self</code> 변수에 객체의 <code class=\"language-text\">this</code>를 저장해서 접근</li>\n</ul>\n</li>\n<li>\n<p><strong>4)</strong> 생성자에서 <code class=\"language-text\">this</code>를 호출</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> age <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 출력: undefined / this는 생성한 객체를 가리킴 (아래 설명 참고)</span>\n<span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 출력: 10  /   전역 window의 10임</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">Person</code>함수는 <code class=\"language-text\">window</code>객체에 속한 함수<br>\n그냥 호출하면 <code class=\"language-text\">this.age</code>는 전역 변수의 <code class=\"language-text\">age</code> 값을 가리키게 됨.</li>\n<li><code class=\"language-text\">Person</code> 함수를 <code class=\"language-text\">new</code> 키워드를 통해 생성하면 새로운 객체가 만들어지면서<br>\n<code class=\"language-text\">this</code>는 <code class=\"language-text\">window</code>가 아닌 생성한 객체를 가리키게 되고, 함수의 내용은 생성자가 됨.</li>\n</ul>\n</li>\n<li>\n<p><strong>5)</strong> <code class=\"language-text\">bind</code> 메서드<br>\n<code class=\"language-text\">bind</code> 메서드는 함수 내의 <code class=\"language-text\">this</code>를 영구적으로 지정하는 메서드.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 10</span>\n\n<span class=\"token comment\">//func함수의 this를 obj 객체로 바인딩.</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> new_func <span class=\"token operator\">=</span> <span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">new_func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 20</span>\n\n<span class=\"token keyword\">var</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> new_func2 <span class=\"token operator\">=</span> <span class=\"token function\">new_func</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// obj로 바인딩 된 함수를 다시 obj2로 바인딩.</span>\n\n<span class=\"token comment\">// 이미 바인딩 된 함수의 this는 변하지 않음 (다시 바인딩해도 최초로 바인딩한 값을 가르킴)</span>\n<span class=\"token function\">new_func2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 20</span></code></pre></div>\n</li>\n<li>\n<p><strong>6)</strong> 화살표 함수<br>\n화살표 함수에서 <code class=\"language-text\">this</code>는 자신을 감싼 <em>렉시컬 컨텍스트</em>. 전역에서는 <code class=\"language-text\">window</code>를 가리킴.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">func</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span>\n\n<span class=\"token comment\">//obj의 func 메소드로 대입</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">func</span><span class=\"token operator\">:</span> func <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span>\n\n<span class=\"token comment\">//obj 객체로 this를 바인딩</span>\n<span class=\"token keyword\">var</span> new_func <span class=\"token operator\">=</span> <span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">new_func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">bind</code>나 화살표 함수는 <code class=\"language-text\">this</code>를 지정하면 변하지 않음.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3>참고자료</h3>\n<ul>\n<li><a href=\"https://velog.io/@realryankim/JavaScript-this%EB%9E%80\" target=\"_blank\" rel=\"nofollow\">[JavaScript] this란?</a></li>\n<li><a href=\"https://bamdule.tistory.com/188\" target=\"_blank\" rel=\"nofollow\">[javascript] this 란</a></li>\n</ul>","frontmatter":{"title":"[JavaScript] JS에서의 this..?","summary":null,"date":"2021.07.06.","categories":["JavaScript"],"options":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQ4y+2Sy2sTURTGTyYzxjzakGeJSe6ZxLYLd7qwiIgPECkIIrhy7UZwKy610oUUQkqLoqIBreBCsCCiFPEPqFatCOIjM2meY5IaqGTa5nnq7Ygvpori0su3uPfAj/N951xYybC/FvyH/x28rHJt9PyDzvU0W82wZpbpCtfv4cYCl3GnqqxnWO11lMrYLqFhAUzdtvKozUf27bIdHXZ8es86RRw/7+mPSUG/9cgh+8vHW9p51FUzWFdYp4DZp+EelxBHsVPEu6kAAPQFrDu32wDgxHEXaagrprDK2gXMzUU8bqE/JpKGZ071AkDqop8o/mAqqM1Hmjlu8Fewu5d3Jg2vJXwAsG1QujXpXylgd1HW0xtkrqdZO/8FHoiJ9TQPcuywA9ZPHMV7N4L0wcy2rrBGljVzmHnC4cGt0tLbaKuEjao8fT1wcO9mAHA5hWczISoh/DTnbhmLzyO0KJffRN09wkBc0hVWeRWdexiiRoza8dMnef7EOQ/V5G9wXWFUxstjPofdkhzxTIx6AWDPkK2VZ0M7NkmSJTninbndt383bz416afqd7CuMNJwOhVwOixGPNEKd64GqCZfuuB1OXlREHh9+IB96R1bXfgx87LCqILqbPjKmHdi1PviUai7/pmoKquz4VTSlzjruX8zWFdZM2+2Kl3ho6aPMtXkTol/IyPR1yJVZGM6n1e1BivmpYf2D1IYAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/db7933e6a7f7acaf99a33f39b286974b/34104/background_js.png","srcSet":"/static/db7933e6a7f7acaf99a33f39b286974b/5ce94/background_js.png 256w,\n/static/db7933e6a7f7acaf99a33f39b286974b/8a20a/background_js.png 512w,\n/static/db7933e6a7f7acaf99a33f39b286974b/34104/background_js.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/db7933e6a7f7acaf99a33f39b286974b/99d55/background_js.webp 256w,\n/static/db7933e6a7f7acaf99a33f39b286974b/3591c/background_js.webp 512w,\n/static/db7933e6a7f7acaf99a33f39b286974b/e306d/background_js.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}},"publicURL":"/static/db7933e6a7f7acaf99a33f39b286974b/background_js.png"}}}}]}},"pageContext":{"slug":"/2021/2021-07-06-JavaScript_this/"}},"staticQueryHashes":["1642645631","2183628444","3590156278","363963755","3949884163","77750267","884297919"]}