{"componentChunkName":"component---src-pages-custom-post-tsx","path":"/posts/2021/2021-07-12-LocalStorage_SessionStorage_Cookie/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"1e1f02a6-8ab9-5c8a-9b48-0dbeda81da7a","fields":{"slug":"/2021/2021-07-12-LocalStorage_SessionStorage_Cookie/"},"html":"<h1>로컬 스토리지, 세션 스토리지 그리고 쿠키</h1>\n<h2><strong>[1]</strong> 로컬 스토리지와 세션 스토리지?</h2>\n<ul>\n<li><strong>로컬 스토리지(localStorage)</strong> 와 <strong>세션 스토리지(sessionStorage)</strong> 는 HTML5에서 추가된 저장소.</li>\n<li>간단한 키와 값을 저장할 수 있음. <code class=\"language-text\">key-value</code> 스토리지의 형태.</li>\n<li>두 스토리지 모두 <code class=\"language-text\">window</code> 객체에 들어있음!</li>\n</ul>\n<h3><strong>1.</strong> 로컬 스토리지와 세션 스토리지의 차이점</h3>\n<ul>\n<li><strong>로컬스토리지</strong>는 사용자가 지우지 않는한 계속 브라우저에 남아있음</li>\n<li><strong>세션스토리지</strong>는 윈도우나 브라우저 탬을 닫을 경우 제거됨.\n<blockquote>\n<p>데이터의 <strong>영구성</strong>의 차이가 있음</p>\n</blockquote>\n</li>\n</ul>\n<h3><strong>2.</strong> 로컬 스토리지와 세션 스토리지의 사용 예</h3>\n<ul>\n<li>지속적으로 필요한 데이터(자동 로그인 등)는 <strong>로컬 스토리지</strong> 에 저장\n<ul>\n<li>사용 예) <em>자동 로그인</em></li>\n</ul>\n</li>\n<li>잠깐 필요한 정보는 <strong>세션 스토리지</strong>에 저장\n<ul>\n<li>비밀번호같은 중요한 정보는 절대 저장하면 안됌. (유출될 위험이 있음)</li>\n<li>사용 예) <em>일회성 로그인</em></li>\n</ul>\n</li>\n<li><strong>두 스토리지 모두 보안에 민감하지 않은 정보들만 넣어두기!!!</strong></li>\n</ul>\n<h2><strong>[2]</strong> 쿠키</h2>\n<ul>\n<li>로컬 스토리지랑 세션 스토리지가 나오기 이전에 브라우저 저장소 역할을 함</li>\n<li>쿠키는 만료 기한이 있는 <code class=\"language-text\">key-value</code> 저장소</li>\n</ul>\n<h3><strong>1.</strong> 쿠키는 4kb 용량 제한이 있고, 매 서버 요청마다 서버로 쿠키가 같이 전송</h3>\n<ul>\n<li>\n<p>왜 서버에 <strong>쿠키</strong>가 전송될까?</p>\n<ul>\n<li>HTTP 요청은 상태를 가지고 있지 않음<br>\n브라우저에서 서버로 나에 대한 정보를 가져오라는 <em>GET /me</em> 라는 요청을 보낸다면<br>\n서버는 요청 자체만으로는 그 요청이 누구에게서 오는지 알 수 없음. (알 수 없기에 응답을 보낼 수 없음..)\n<ul>\n<li>이 때 <strong>쿠키</strong>를 나에 대한 정보를 담아 서버로 보낸다면?<br>\n서버는 <strong>쿠키</strong>를 읽어서 내가 누군지 파악함</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><strong>쿠키</strong>는 처음부터 서버와 클라이언트 간의 지속적인 데이터 교환을 위해 만들어졌기에 서버로 계속 전송되는 것.</p>\n</blockquote>\n</li>\n<li>\n<p>만약 4kb 용량 제한을 거의 다 채운 쿠키가 있다면, 요청을 할 때마다 기본 4kb의 데이터를 사용.<br>\n이 4kb 중에는 서버에 필요하지 않은 데이터들도 있을 것. <em>(데이터 낭비가 발생)</em></p>\n<blockquote>\n<p>이러한 데이터 낭비가 되는 데이터들을 <strong>로컬 스토리지</strong>와 <strong>세션 스토리지</strong>에 저장하면 됌!</p>\n</blockquote>\n</li>\n</ul>\n<h3><strong>2.</strong> 쿠키의 동작 방식</h3>\n<ol>\n<li>클라이언트가 페이지를 요청</li>\n<li>서버에서 쿠키를 생성</li>\n<li>HTTP 헤더에 쿠키를 포함 시켜 응답</li>\n<li>브라우저가 종료되어도 쿠키 만료 기간이 있다면 클라이언트에서 보관하고 있음</li>\n<li>같은 요청을 할 경우 HTTP 헤더에 쿠키를 함께 보냄</li>\n<li>서버에서 쿠키를 읽어 이전 상태 정보를 변경 할 필요가 있을 때 쿠키를 업데이트 하여<br>\n변경된 쿠키를 HTTP 헤더에 포함시켜 응답</li>\n</ol>\n<h3><strong>3.</strong> 쿠키의 사용 예</h3>\n<ul>\n<li>크롬에서 흔히 나오는 사이트에서 로그인 시, “아이디와 비밀번호를 저장하시겠습니까?”</li>\n<li>자동로그인</li>\n<li>특정 팝업에서 “오늘 더 이상 이 창을 보지 않음” 체크</li>\n<li>쇼핑몰 장바구니</li>\n</ul>\n<h2><strong>[3]</strong> 로컬 스토리지</h2>\n<ul>\n<li>로컬 스토리지는 <code class=\"language-text\">window.localStorage</code>에 위치.</li>\n<li><code class=\"language-text\">key-value</code> 저장소이기 때문에 <code class=\"language-text\">key</code>와 <code class=\"language-text\">value</code>들을 순서대로 저장하면 됨.</li>\n<li><code class=\"language-text\">값(value)</code>으로는 <code class=\"language-text\">String</code>, <code class=\"language-text\">Boolean</code>, <code class=\"language-text\">Number</code>, <code class=\"language-text\">null</code>, <code class=\"language-text\">undefined</code> 등을 저장할 수 있지만,<br>\n모두 <code class=\"language-text\">String</code> 형태로 <em>반환</em> 됨. (<code class=\"language-text\">key</code>도 <code class=\"language-text\">String</code>으로 반환!)</li>\n</ul>\n<h3><strong>1.</strong> 간단 사용법</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Rano'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>           <span class=\"token comment\">// - setItem: 'name'이라는 key에 'Rano'라는 value를 저장</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birth'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1993</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                   <span class=\"token comment\">// - getItem: 'name'이라는 이름을 가진 key의 value를 가져옴</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birth'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                      <span class=\"token comment\">// \"1993\" 반환 (문자열 형태로 반환함)</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birth'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">// - removeItem: 해당 Item 제거 (birth라는 key를 제거 (key-value 모두))</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'birth'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                      <span class=\"token comment\">// 위에서 삭제했기에 null</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                           <span class=\"token comment\">// - clear: 전체 삭제</span></code></pre></div>\n<ul>\n<li>만약 객체를 저장하려면 제대로 저장되지 않고 <code class=\"language-text\">toString()</code> 메소드가 호출된 형태로 저장되니까<br>\n객체를 <code class=\"language-text\">JSON.stringify</code>하여 문자열 형태로 변환하여 저장<br>\n가져올 때는 <code class=\"language-text\">JSON.parse</code>를 사용하여 가져오면 됨.\n<ul>\n<li>이 방법 이외의 다른 방법은 하나씩 풀어서 저장하는 것.. (key-value 형태로)</li>\n</ul>\n</li>\n</ul>\n<h3><strong>2.</strong> 쿠키 vs 로컬 스토리지</h3>\n<ul>\n<li>쿠키 서버측과 클라이언트측 양쪽에서 쿠키 데이터를 사용하는 api가 존재.</li>\n<li>localStorage는 로컬 환경에서만 컨트롤.</li>\n<li>저장된 쿠키 데이터의 쓰임이 양쪽 모두이냐를 고려했을 때<br>\n만약 서버쪽 사용이 필수적이라면 로컬 저장소가 아닌 클라이언트와 서버와의 인터렉션이<br>\n좀 더 효과적인 쿠키값을 사용하는 것이 좋을 수도 있음</li>\n</ul>\n<h2><strong>[4]</strong> 세션 스토리지</h2>\n<ul>\n<li>세션 스토리지는 <code class=\"language-text\">window.sessionStorage</code>에 위치.</li>\n<li><code class=\"language-text\">clear</code>, <code class=\"language-text\">getItem</code>, <code class=\"language-text\">setItem</code>, <code class=\"language-text\">removeItem</code>, <code class=\"language-text\">key</code> 등 모든 메소드가 같음.\n<blockquote>\n<p>단지 로컬스토리지와는 다르게 데이터가 영구적으로 보관되지는 않을 뿐</p>\n</blockquote>\n</li>\n</ul>\n<hr>\n<h3>참고자료</h3>\n<ul>\n<li><a href=\"https://www.zerocho.com/category/HTML&#x26;DOM/post/5918515b1ed39f00182d3048\" target=\"_blank\" rel=\"nofollow\">zerocho : 로컬스토리지, 세션스토리지</a></li>\n<li><a href=\"https://webisfree.com/2015-12-28/localstorage-vs-cookie-%EC%9E%A5%EB%8B%A8%EC%A0%90\" target=\"_blank\" rel=\"nofollow\">LocalStorage Vs Cookie 장단점</a></li>\n<li><a href=\"https://racoonlotty.tistory.com/entry/%EC%BF%A0%ED%82%A4%EC%99%80-%EC%84%B8%EC%85%98-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EB%A1%9C%EC%BB%AC-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EC%99%80-%EC%84%B8%EC%85%98-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80\" target=\"_blank\" rel=\"nofollow\">쿠키와 세션 그리고 로컬 스토리지와 세션 스토리지</a></li>\n</ul>","frontmatter":{"title":"[JavaScript] 로컬 스토리지, 세션 스토리지 그리고 쿠키","summary":null,"date":"2021.07.12.","categories":["JavaScript"],"options":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQ4y+2Sy2sTURTGTyYzxjzakGeJSe6ZxLYLd7qwiIgPECkIIrhy7UZwKy610oUUQkqLoqIBreBCsCCiFPEPqFatCOIjM2meY5IaqGTa5nnq7Ygvpori0su3uPfAj/N951xYybC/FvyH/x28rHJt9PyDzvU0W82wZpbpCtfv4cYCl3GnqqxnWO11lMrYLqFhAUzdtvKozUf27bIdHXZ8es86RRw/7+mPSUG/9cgh+8vHW9p51FUzWFdYp4DZp+EelxBHsVPEu6kAAPQFrDu32wDgxHEXaagrprDK2gXMzUU8bqE/JpKGZ071AkDqop8o/mAqqM1Hmjlu8Fewu5d3Jg2vJXwAsG1QujXpXylgd1HW0xtkrqdZO/8FHoiJ9TQPcuywA9ZPHMV7N4L0wcy2rrBGljVzmHnC4cGt0tLbaKuEjao8fT1wcO9mAHA5hWczISoh/DTnbhmLzyO0KJffRN09wkBc0hVWeRWdexiiRoza8dMnef7EOQ/V5G9wXWFUxstjPofdkhzxTIx6AWDPkK2VZ0M7NkmSJTninbndt383bz416afqd7CuMNJwOhVwOixGPNEKd64GqCZfuuB1OXlREHh9+IB96R1bXfgx87LCqILqbPjKmHdi1PviUai7/pmoKquz4VTSlzjruX8zWFdZM2+2Kl3ho6aPMtXkTol/IyPR1yJVZGM6n1e1BivmpYf2D1IYAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/db7933e6a7f7acaf99a33f39b286974b/34104/background_js.png","srcSet":"/static/db7933e6a7f7acaf99a33f39b286974b/5ce94/background_js.png 256w,\n/static/db7933e6a7f7acaf99a33f39b286974b/8a20a/background_js.png 512w,\n/static/db7933e6a7f7acaf99a33f39b286974b/34104/background_js.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/db7933e6a7f7acaf99a33f39b286974b/99d55/background_js.webp 256w,\n/static/db7933e6a7f7acaf99a33f39b286974b/3591c/background_js.webp 512w,\n/static/db7933e6a7f7acaf99a33f39b286974b/e306d/background_js.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}},"publicURL":"/static/db7933e6a7f7acaf99a33f39b286974b/background_js.png"}}}}]}},"pageContext":{"slug":"/2021/2021-07-12-LocalStorage_SessionStorage_Cookie/"}},"staticQueryHashes":["1642645631","2183628444","3590156278","363963755","3949884163","77750267","884297919"]}