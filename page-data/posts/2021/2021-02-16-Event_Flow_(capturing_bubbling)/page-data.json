{
    "componentChunkName": "component---src-pages-custom-post-tsx",
    "path": "/posts/2021/2021-02-16-Event_Flow_(capturing_bubbling)/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"08fc3b5c-237c-5e26-ad03-31cdbedf71f7","fields":{"slug":"/2021/2021-02-16-Event_Flow_(capturing_bubbling)/"},"html":"<h1>DOM 이벤트 플로우 (캡쳐링, 버블링)</h1>\n<h2><strong>1.</strong> DOM의 이벤트 플로우 (click 이벤트로 예를 듦)</h2>\n<p><img src=\"https://user-images.githubusercontent.com/33610315/108024347-bbd25c00-7067-11eb-8445-3d3e3ba8358e.png\" width=\"500/\"><br/></p>\n<p><code class=\"language-text\">html</code> 항상 중첩이 되어있다. <code class=\"language-text\">html</code> -> <code class=\"language-text\">body</code> -> <code class=\"language-text\">div</code>\n<br/></p>\n<p>여기서 div에 click 이벤트가 있다고 가정하자. div를 클릭하면 어떻게 될까?<br>\n<img src=\"https://user-images.githubusercontent.com/33610315/108024523-12d83100-7068-11eb-8086-7959532da9c8.png\" width=\"500/\">\n<br/>\n부모인 html, body 태그에 click 이벤트가 없다면 아무 상관이 없다.<br>\n하지만 html, body 태그에 click 이벤트가 있다면??<br>\n이 html, body 태그의 click 이벤트도 실행이 되어버림.. ㅠ<br>\n<br/></p>\n<img src=\"https://user-images.githubusercontent.com/33610315/108025199-68f9a400-7069-11eb-985a-20c41a42ce52.png\" width=\"500/\">\n<br>\n<p><strong>currentTarget</strong>은 자기 자신을 가르키는 것. (이미지 참고)<br>\n<code class=\"language-text\">div</code>는 <strong>target</strong> 이라 부름. 여기서 이벤트는 <code class=\"language-text\">div</code> 때문에 실행이 된 것이니까!\n<br/><br/></p>\n<h2><strong>2.</strong> DOM의 event flow phase (실행순서)</h2>\n<ul>\n<li><code class=\"language-text\">html(document)</code> 상위엔 <code class=\"language-text\">window</code></li>\n<li>실행순서 (무조건 이 순서대로 흘러감!!)</li>\n</ul>\n<ol>\n<li><code class=\"language-text\">html</code> -> <code class=\"language-text\">body</code> -> <code class=\"language-text\">div</code>\n이것을 <span style=\"color: magenta; font-weight: bold\">Capture phase</span>라 부름</li>\n<li>실행하려는 이벤트는 <code class=\"language-text\">div</code>\n이것을 <span style=\"color: skyblue; font-weight: bold\">Target phase</span>라 부름</li>\n<li>마지막으로 다시 <code class=\"language-text\">div</code> -> <code class=\"language-text\">body</code> -> <code class=\"language-text\">html</code>로 돌아감\n이것을 <span style=\"color: orange; font-weight: bold\">Bubble phase</span>라 부름</li>\n</ol>\n<ul>\n<li>이미지 참고\n<img src=\"https://user-images.githubusercontent.com/33610315/108027003-ca6f4200-706c-11eb-8816-8514b73645e2.png\" width=\"500/\"><br/></li>\n<li><strong>propagate</strong>는 전파하다. 라는 뜻을 가지고 있음</li>\n<li>만약 <code class=\"language-text\">div</code> click 이벤트 실행하면..? 쓸데없이 <code class=\"language-text\">body</code>,<code class=\"language-text\">html</code>은 2번씩 실행되어버림..<br>\n물론 <code class=\"language-text\">body</code>, <code class=\"language-text\">html</code>이 이벤트가 등록되어 있을 경우!</li>\n</ul>\n<!-- \n    햇갈릴수 있기에 주석\n-   _event flow phase_ 중 어느 단계에서 실행되고 싶은지 선택. **capture** vs <span style=\"color: skyblue; font-weight: bold\">bubble</span>  \n     <img src='https://user-images.githubusercontent.com/33610315/108027463-8e88ac80-706d-11eb-8b89-edd76564fe2d.png' width=500/><br/>\n-->\n<ul>\n<li>\n<p>브라우저의 <em>event flow phase</em> 중 실행 기본 값은 <span style=\"color: orange; font-weight: bold\">Bubble</span> 설정되어 있음</p>\n<p><br/><br/></p>\n</li>\n</ul>\n<h2><strong>3.</strong> DOM의 event flow phase (코드 예시)</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n            <span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> cadetblue<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token selector\">div</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> blueviolet<span class=\"token punctuation\">;</span>\n                <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        BODY\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>DIV<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./script.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* \n    * addEventListener의 3번째 매개변수\n        - 안넣을 경우 기본값 false (bubble)\n        - true로 넣어주면 capture\n*/</span>\n\n<span class=\"token comment\">// 여기서 div는 자식이 없음!! 굳이 캡쳐 or 버블을 선택하는 3번째 매개변수를 쓰지않아도 됨! 써봤자 소용없거든? 쓰지마!</span>\ndiv<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div 클릭'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nbody<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body 클릭'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nhtml<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html 클릭'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>지금은 모두 기본값인 <span style=\"color: orange; font-weight: bold\">Bubble</span>.<br>\n<code class=\"language-text\">div</code> 클릭 시 결과는 <code class=\"language-text\">div</code> -> <code class=\"language-text\">body</code> -> <code class=\"language-text\">html</code>.<br>\n<br/></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">div<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div 클릭'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nbody<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body 클릭'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nhtml<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html 클릭'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>이 코드처럼 3번째 매개변수에 <code class=\"language-text\">body</code>와 <code class=\"language-text\">html</code>에 <strong>true</strong>를 넣어주면?<br>\n<code class=\"language-text\">body</code>와 <code class=\"language-text\">html</code>은 <span style=\"color: magenta; font-weight: bold\">Capture</span> 상태가 됨.<br>\n<code class=\"language-text\">div</code> 클릭 시 결과는 <code class=\"language-text\">html</code> -> <code class=\"language-text\">body</code> -> <code class=\"language-text\">div</code>.\n<br/><br/></li>\n</ul>\n<h2><strong>+</strong> 추가, 이벤트 버블링 &#x26; 캡쳐링 관련 함수</h2>\n<ul>\n<li><code class=\"language-text\">event.stopPropagation()</code><br>\n이벤트 캡쳐링과 버블링에 있어 현재 이벤트 이후의 전파를 막음\n<ul>\n<li><a href=\"https://developer.mozilla.org/ko/docs/Web/API/Event/stopPropagation\" target=\"_blank\" rel=\"nofollow\">mozilla : Event.stopPropagation()</a></li>\n</ul>\n</li>\n</ul>\n<hr/>\n<h3><strong>참고 링크</strong></h3>\n<ul>\n<li><a href=\"https://youtu.be/7gKtNC3b_S8\" target=\"_blank\" rel=\"nofollow\">DOM 이벤트 플로우 완벽하게 정리해드립니다. - Youtube (김버그)</a></li>\n</ul>","frontmatter":{"title":"[JavaScript] DOM 이벤트 플로우 (캡쳐링, 버블링)","summary":null,"date":"2021.02.16.","categories":["JavaScript","DOM"],"options":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOUlEQVQ4y43Ue0xTVxgA8K+CccZH0EXUxOnULWqc29hMAM0iMgxzGVbnfLCH8zEfUB/7Y1NE5eGDKVoQ6GiRAnUrlLbUNoXyaCl9gUXKq7RAeY1SubdcQKrGIhHNt1wH4h+b2Uluzsm99/zOud/9vgO24vqxdrUV7WWN471GB7Yo7/GQREBEBiLCZEtMTIT/1eyapjGrugFbNA1jrWU2T2l6xdV/oHXTp8CTAJu1sGS3DJZFyt8MupyuAYNOh5nsnHGdpIuslDo6TMpeW72aIvQid5xLh+B24/RkmZPB1XqBp/W+ebcURQ32ky7Uq+tetBq9WKPqRf0dx3OrdhjVeU7uEIFAIcJ1xQBkVo4yeFWjkJCQ8N8gQRAUSZJIUdTDSkl3cNjqPcHM3RdTMySUMf5Wk/Q3aV9Gispz6xd+a8AXXASR+LJvtzZkWqdmEwOxEBDbQMb5ZArs7++n+vv7kSCIh4g4i74XfihJ8ee9F3hD6sA0eQ/mGkbx7G3nqbyi2/BICtBathFsJcGAyALEn0GQtHIKHB4epgYHB7Gnp4cG3waA+WsCI5gZmmeR3/+ac2H/OeHp6yWjkRnZyZ82ileuNYqCP2xUBAc0yAPfRfwWnnYegSTWNGiriYei3CiA5ORkisPhoMlkokE/APAHgPUBYfvp9ZYDwDYAWNCo2CB90PAVtlVswSe2bThcH+FcsHjtDPolVW4Yg5u8B2RiPkBUVBQVGxuLzc3Nr4MBu6KSYCJt/Oi+rXTDqT5TRLtJHFJjUYQ6e/RfFgLADFefCxasiIS0y0xQSLkAfD6f4vP5qNPpaHAeDawK2v5Nivr50ViB4+SVO0PHrquenNjJ9i4FAN9GQ4qmripttEad0uW0CcgWE1s2ma9y4VkAoVBIiUQilMvlkzGcueWHxGJRHWJqkQM5SicKjF6MK3CfFhqHwFbLtzSYcl5UV2SM2u/lot38ux0AfGhQlHseIDs7m0pNTcWmpiYanA8Asz/+fN/eDM1owpFEaS7rqpLLVj2+nJLD39pcMO8DBW/j9vyUwKO514IirpwJXZd6kbm0uiAQ1NmrIS7mAACHw6F4PB5KJBIPIvpPbJ8Ry5bQ/TsAEAEAi63KIPkjKxO7tOE43rEDH1uZVsSDELVvPSh56xl5iX5wIeYQgE6nozQaDVosFs/Q0NDCdkcnXMqQvPyE2XP91i70nxdIL2IrDYshzBHt1eLPLG3lIW57WWgRAMyZjB9rO8D5AwAwMjJCeTweulI8LpfL3+12w0+HD/tMpOkaAHiPHtDz6MnW6nShxcD11uky24mOQqrZdDMdsZd+5jtw3+vzeqV4SJL0J0kSjh8//jq4gh78VbEC0FsIdzVsmVmbiRol22PWpKCxJPaPp08QPI8RHlA4Vcs0SBCEP0EQEB0d/Qqc+ZZPEJ0uljsb9rqMYVnVks2ieuXW2lpZqEAlScs2lBUpSmX5qbVVZVkNRtWZfwVZLNYkuGrOLN9dAPB+k3KT4VnHTuwzhuO4IwIHzCHDd7Xlfd1tTtSrtdhp60S7pRZpkJgAhyZBvV7PmABnxBxbM+075jKwl4d/1KwKj9YUfJ1dLtzdopPszTOqrvE1ivSs/Bz2waqS/BOqoqxdQJLk2ARIX4tocGRkZBKEmKMr4ccdi3zqBfRPKYSuRoHR0ViIVrMA77eL0Vp9Qz5C2MFiNECDUfUyhjyCIKQEQfAJgphLgy6X69VptHzJTEBMgO7a8z6VLQj64vi4EnG8ubgwrrxcdslcpbxyDrETqN5mX4tB6fM3hK5hKKaSzEAAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/ea1784e33562a42d821d70efd178ece1/e0a96/background_dom.png","srcSet":"/static/ea1784e33562a42d821d70efd178ece1/4276d/background_dom.png 55w,\n/static/ea1784e33562a42d821d70efd178ece1/7c394/background_dom.png 110w,\n/static/ea1784e33562a42d821d70efd178ece1/e0a96/background_dom.png 220w","sizes":"(min-width: 220px) 220px, 100vw"},"sources":[{"srcSet":"/static/ea1784e33562a42d821d70efd178ece1/9c0cd/background_dom.webp 55w,\n/static/ea1784e33562a42d821d70efd178ece1/09456/background_dom.webp 110w,\n/static/ea1784e33562a42d821d70efd178ece1/48012/background_dom.webp 220w","type":"image/webp","sizes":"(min-width: 220px) 220px, 100vw"}]},"width":220,"height":228}},"publicURL":"/static/ea1784e33562a42d821d70efd178ece1/background_dom.png"}}}}]}},"pageContext":{"slug":"/2021/2021-02-16-Event_Flow_(capturing_bubbling)/"}},
    "staticQueryHashes": ["1479751003","1642645631","3590156278","363963755","3949884163","77750267","884297919"]}