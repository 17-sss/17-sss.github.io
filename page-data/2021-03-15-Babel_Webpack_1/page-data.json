{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2021-03-15-Babel_Webpack_1/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>Babel &#x26; Webpack ① : Babel</h1>\n<h2><strong>1.</strong> Babel CLI 설치</h2>\n<ul>\n<li><code class=\"language-text\">babel-core</code>, <code class=\"language-text\">babel-cli</code> 설치\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ npm i --save-dev @babel/core @babel/cli</code></pre></div>\n</li>\n</ul>\n<h2><strong>2.</strong> babelrc 설정 파일 작성</h2>\n<ul>\n<li>env preset 설치\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ npm i --save-dev @babel/preset-env</code></pre></div>\n</li>\n<li>지금 설치한 프로젝트 루트에 <code class=\"language-text\">.babelrc</code> 파일 생성\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2><strong>3.</strong> 트랜스파일링</h2>\n<ul>\n<li>npm script를 사용하여 트랜스파일링\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"build:babel\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel public/js -w -d public/dist/js\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><em>package.json의 scripts 부분</em></li>\n<li>위 npm script는 src/js 폴더(타깃 폴더)에 있는 모든 ES6+ 파일들을 트랜스파일링한 후,<br>\n그 결과물을 dist/js 폴더에 저장한다.\n<ul>\n<li>사용한 옵션의 의미\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">-w\n    타깃 폴더에 있는 모든 파일들의 변경을 감지하여 자동으로 트랜스파일한다.\n    (--watch 옵션의 축약형)\n-d\n    트랜스파일링된 결과물이 저장될 폴더를 지정한다.\n    (--out-dir 옵션의 축약형)</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2><strong>4.</strong> Babel 플러그인</h2>\n<ul>\n<li>\n<p>클래스 필드 정의 제안 플러그인 (Babel 사이트에서 “Class field” 검색)</p>\n<ul>\n<li>트랜스파일링 할 때 아래 예시 코드처럼 에러나는 부분이 있음.<br>\n그럴 경우 플러그인 검색해서 설치 후 해결</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src/js/lib.js</span>\n<span class=\"token comment\">// ES6 모듈</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pi <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">power</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ES7: 지수 연산자</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">**</span> y<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ES6 클래스</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Foo</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// stage 3: 클래스 필드 정의 제안</span>\n    #<span class=\"token keyword\">private</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 여기서 에러발생 (아래 로그 참고) -----------------------</span>\n\n    <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// stage 4: 객체 Rest/Spread 프로퍼티</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>x <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> d<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> x <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#<span class=\"token keyword\">private</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>에러 로그</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">SyntaxError: C:\\Users\\Administrator\\Desktop\\Develop\\Develop_File\\Study\\CodeSquad\\FE08\\06 (FreeStyle)\\fe-w6-free-style\\public\\js\\.babel_test\\lib.js: Support for the experimental syntax &#39;classPrivateProperties&#39; isn&#39;t currently enabled (13:5):\n\n11 | export class Foo {\n12 |     // stage 3: 클래스 필드 정의 제안\n&gt; 13 |     #private = 10;\n    |     ^\n14 |\n15 |     foo() {\n16 |         // stage 4: 객체 Rest/Spread 프로퍼티</code></pre></div>\n<ul>\n<li>이 에러는\n<code class=\"language-text\">@babel/preset-env</code>는 현재 제안 단계에 있는 사양에 대한<br>\n플러그인을 지원하지 않기 때문에 발생한 에러임.<br>\n현재 제안 단계에 있는 사양을 지원하려면 별도의 플러그인을 설치해야 함.</li>\n</ul>\n<p>위 에러를 해결하려면..</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ npm i --save-dev @babel/plugin-proposal-class-properties</code></pre></div>\n<p>설치 후, <code class=\"language-text\">.babelrc</code>파일에 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/plugin-proposal-class-properties\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2><strong>5.</strong> 브라우저 모듈 로딩 테스트</h2>\n<ul>\n<li>\n<p>모듈 기능은 node.js 환경에서 동작한 것이고 Babel이 모듈을 트랜스파일링한 것도<br>\nnode.js가 기본 지원하는 CommonJS 방식의 module loading system에 따른 것임.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// dist/js/main.js</span>\n<span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> _lib <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./lib'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>_lib<span class=\"token punctuation\">.</span>pi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> _lib<span class=\"token punctuation\">.</span>power<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>_lib<span class=\"token punctuation\">.</span>pi<span class=\"token punctuation\">,</span> _lib<span class=\"token punctuation\">.</span>pi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">_lib<span class=\"token punctuation\">.</span>Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>에러 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dist/js/lib.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dist/js/main.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<ul>\n<li>이 HTML을 브라우저에서 실행하면..</li>\n</ul>\n<p>에러 로그</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">Uncaught ReferenceError: exports is not defined\n    at lib.js:3\nmain.js:3 Uncaught ReferenceError: require is not defined\n    at main.js:3</code></pre></div>\n<p>이렇게 트랜스파일링된 코드는<br>\n브라우저에서 CommonJS 방식의 module loading system(require 함수)을<br>\n지원하지 않으므로 그대로 브라우저에서 실행하면 에러가 발생</p>\n</li>\n</ul>\n<hr/>\n<h3>참고 자료</h3>\n<ul>\n<li><a href=\"https://poiemaweb.com/es6-babel-webpack-1\" target=\"_blank\" rel=\"nofollow\">Babel과 Webpack을 이용한 ES6 환경 구축 ①</a></li>\n</ul>","frontmatter":{"title":"[Webpack] Babel & Webpack ① : Babel","summary":null,"date":"2021.03.15.","categories":["JavaScript","Webpack"],"options":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADEklEQVQ4y5VVW2sTURAO9UFRsXjD/+DlF4iPIiq0DyKKIoLgkxa84INYwQtoqyBoLUprFUVUtFLSatXaKKLFis1l47Wa3pKYtGDXYm2a3XPO98nZbNJtYkUXhnw7Z+bLzHDmW5+v6CE5zSQwK4+VB+dtxscbNCGgf73Ji13Lv89yY0qJi/+RZFlWokzjh0mp33dJIKmApMZ94zkiKxdTVlKxp7XiqtaSfGOYioGUYGdKMGoqkux2zwrVSoVSQmvKuZxk89AvxeZBwSPBrLg7KNSdAaE0vj8omPjlEDe7sbpaJxeAzzu3BSTPpiaU3Z4UrIla6njEkjcGgK6U5dj1AUD7aqOWepQUTGeUrXNyuShUmG+zckKAgZTk6aglLnwS0LipO43Vta+x5kw3rr1JozMlef6TjZqoJZ6lJTMCutrKfPteworIqOTNPlsaP4DI8CQq63swe88TLjv03DGNN10KwhiZRMRUuBmzpTvXCrfl6YRRU/JIyFJtcYHGF0Os9n/l+roeLtwf4KIDAW68GHR8TS/j9McFqkOWev9jirCkQk14ImKptoTAhroerjrRxdon/az2f+FR/1fWPO7niuOvWFEfZGtC4qTxH4RbGsIs39fJuVVPHcLDLb0O1r5tTQZb4wI69q+E70xJ3UZbQmLz5RDn7H3KJQefcXuTwa1XIg6es7eD2xrD9McljoYs9eFvhMHvkpc+21IP/MHnMey4amBeVQe3XjG4uSHC+VUd3HnNQHvvGMKmgo4Nj8oZCSvHLPDViOSFj5ao75UIDIMNr9M43R7DqfYYGruHHd/FXom6j7boGpHUOcXXxrnppoVykueGMxCt8dzFPha2ZGNMITyqEBpVaIgpaJ8+a0sIjkxC6Bwzi/KsxNSmCAXfuF1YvZUkWwbHFe8NCFYHs+J2v1C3+oTSWK/jUG71WtxY308bDse0XXYdXnFYR/KtnpHeDi0OhunM6617VhAH8Sdx8MpXRsArS7sl8E2bxnn/5B/ky2nZq4vISZgvUyqwS10rVOXGFHL+SbmLPwFePBPRb8kZo9gxJ8drAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/ab95f9865c9e7ce1b71a48f21be91791/5f2c3/background_webpack.png","srcSet":"/static/ab95f9865c9e7ce1b71a48f21be91791/90cd3/background_webpack.png 100w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/614dc/background_webpack.png 200w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/5f2c3/background_webpack.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/ab95f9865c9e7ce1b71a48f21be91791/e64f1/background_webpack.webp 100w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/8b00d/background_webpack.webp 200w,\n/static/ab95f9865c9e7ce1b71a48f21be91791/9c0a1/background_webpack.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}},"publicURL":"/static/ab95f9865c9e7ce1b71a48f21be91791/background_webpack.png"}}}}]}},"pageContext":{"slug":"/2021-03-15-Babel_Webpack_1/"}},
    "staticQueryHashes": []}